# 템플릿 프로그래밍 베스트 프렉티스 

# 템플릿 프로그래밍의 장점

* 컴파일러가 컴파일 도중에 각 템플릿 인스턴스에 대한 코드를 만들어 줍니다. 
    * 컴파일 타임은 비교적 느립니다.
    * 템플릿 매개변수를 추가할수록 더 느려집니다.
    * 하지만 런타임 속도는 더 빠를지도 모릅니다. 
    * 실행 파일 크기가 커지기 때문에 항상 그런 것은 아닙니다.
        * 정확히는 코드가 많아지면 exe 파일 사이즈가 커지고 그만큼 캐시 효용성이 떨어지기 때문에 느려질 수 있음.
    * 이는 C#과 Java도 어느 정도 해당되는 말입니다.
        * ArrayList는 기본 데이터형도 객체로 박싱(boxing)하는데 이럴 필요 없이 generics를 쓰는 List나 Map을 쓰는 것이 좋습니다.
    * 자료형만 다른 중복 코드를 없애는 훌륭한 방법입니다.
    * 하지만 쓸모 없는 템플릿 변형을 막을 방법이 없습니다.
        * 예를 들어 같은 숫자형 타입은 템플릿 보다 캐스팅을 사용하는게 좋습니다.
            ```c++
            Add<int>(/**/);
            Add<short>(/**/);
            Add<unsigned int>(/**/);
            ```
        * 또는 이런 것이 있습니다.
            ```c++
            Vector<3>(/**/)
            Vector<4>(/**/)
            vector<15>(/**/)
            ```
        * 최대한 제네릭 함수를 짧게 유지하는 것이 좋고 제네릭이 아니어도 되는 부분은 별도로 함수로 옮기는 것이 좋습니다.
    * 컴파일 도중에 다형성을 부여할 수도 있습니다. 
        * 가상 테이블이 없어서 프로그램이 더 빠릅니다.
        * 하지만 exe 파일이 커지면 느려질 수 있습니다.
        * 이는 C++ 프로그래머들이 많이 잘못 썼던 기능입니다.
        * 그리고 코드 읽기가 더 힘듭니다. 
        * 디버깅이 좀 이상할 수도 있습니다.   
            * 요즘 브레이크 포인트 걸면 원하는 타입만 체크해서 디버깅 할 수 있게 만들어 놓았습니다.   
![image](https://user-images.githubusercontent.com/22488593/182264418-5e2016e1-4aa2-4f67-8fd5-7c577c836cdc.png)   

# 템플릿 프로그래밍 베스트 프랙티스 

* 컨테이너의 경우 템플릿을 사용하는 것이 매우 적합합니다. 
    * 템플릿 덕분에 아주 다양한 형들을 저장할 수 있습니다. 
    * 이런 이유로 Java와 C# 제네릭이 주로 컨테이너에 쓰이는 것입니다. 
* 컨테이너가 아닌 경우는 템플릿을 써야 할까요?
    * 각기 다른 서넛 이상의 자료형을 다룬다면 템플릿을 쓰는 것이 좋습니다.
    * 두가지 정도라면 그냥 클래스를 2개 만드는 것이 낫습니다. 